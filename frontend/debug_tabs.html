<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>标签页调试</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        
        .tab-btn {
            background: #e0e0e0;
            border: 1px solid #ccc;
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
        }
        
        .tab-btn.active {
            background: #007bff;
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            margin-top: 20px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            min-height: 200px;
        }
        
        .tab-content.active {
            display: block !important;
        }
        
        .debug-info {
            background: #ffffcc;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>🔧 标签页功能调试</h1>
    
    <div class="debug-info">
        <strong>调试目标：</strong>验证运维工具和文书库管理标签页切换功能
    </div>
    
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('dashboard')">📊 数据概览</button>
        <button class="tab-btn" onclick="switchTab('operations')">🔧 运维工具</button>
        <button class="tab-btn" onclick="switchTab('documents')">📚 文书库管理</button>
        <button onclick="debugInfo()">🐛 调试信息</button>
    </div>
    
    <!-- 数据概览标签页 -->
    <div class="tab-content active" id="dashboard-tab">
        <h3>📊 数据概览</h3>
        <p>这是数据概览页面，默认显示。</p>
        <div class="debug-info">
            ✅ 数据概览标签页显示正常
        </div>
    </div>
    
    <!-- 运维工具标签页 -->
    <div class="tab-content" id="operations-tab">
        <h3>🔧 运维工具中心</h3>
        <div class="debug-info">
            <strong>测试结果：</strong>如果你能看到这段文字，说明运维工具标签页显示正常！✅
        </div>
        <h4>👤 用户等级升级配置</h4>
        <p>配置律客用户的等级升级条件，支持动态调整升级门槛</p>
        <button>保存配置</button>
        <button>重置默认</button>
    </div>
    
    <!-- 文书库管理标签页 -->
    <div class="tab-content" id="documents-tab">
        <h3>📚 文书库管理</h3>
        <div class="debug-info">
            <strong>测试结果：</strong>如果你能看到这段文字，说明文书库管理标签页显示正常！✅
        </div>
        <h4>📊 文书库概览</h4>
        <div style="display: flex; gap: 20px;">
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                <div>文书总数</div>
                <div style="font-size: 24px; font-weight: bold;">156</div>
            </div>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                <div>今日使用</div>
                <div style="font-size: 24px; font-weight: bold;">28</div>
            </div>
        </div>
    </div>
    
    <div id="debug-output" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px; font-family: monospace; font-size: 12px;"></div>
    
    <script>
        // 记录调试信息
        function log(message) {
            console.log(message);
            const output = document.getElementById('debug-output');
            output.innerHTML += new Date().toLocaleTimeString() + ': ' + message + '<br>';
        }
        
        // 标签页切换功能
        function switchTab(tabName) {
            log(`🚀 切换到标签页: ${tabName}`);
            
            // 移除所有按钮的active状态
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            log('✅ 已移除所有按钮的active状态');
            
            // 隐藏所有标签页内容
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            log('✅ 已隐藏所有标签页内容');
            
            // 激活选中的按钮
            const activeBtn = document.querySelector(`[onclick="switchTab('${tabName}')"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
                log('✅ 按钮激活成功: ' + activeBtn.textContent);
            } else {
                log('❌ 找不到按钮: ' + tabName);
            }
            
            // 显示选中的标签页内容
            const activeContent = document.getElementById(`${tabName}-tab`);
            if (activeContent) {
                activeContent.classList.add('active');
                log('✅ 标签页内容激活成功: ' + activeContent.id);
                
                const computed = window.getComputedStyle(activeContent);
                log(`   display: ${computed.display}, visibility: ${computed.visibility}`);
            } else {
                log('❌ 找不到标签页内容: ' + tabName + '-tab');
            }
        }
        
        function debugInfo() {
            log('--- 调试信息 ---');
            const tabs = ['dashboard', 'operations', 'documents'];
            tabs.forEach(tabName => {
                const tab = document.getElementById(tabName + '-tab');
                if (tab) {
                    const computed = window.getComputedStyle(tab);
                    log(`${tabName}-tab: classList=${tab.classList.toString()}, display=${computed.display}`);
                } else {
                    log(`${tabName}-tab: 不存在`);
                }
            });
            
            const buttons = document.querySelectorAll('.tab-btn');
            log(`标签按钮数量: ${buttons.length}`);
            buttons.forEach((btn, index) => {
                if (btn.onclick) {
                    log(`  按钮${index + 1}: ${btn.textContent.trim()} - ${btn.classList.contains('active') ? 'active' : 'inactive'}`);
                }
            });
        }
        
        // 页面加载完成后显示调试信息
        window.addEventListener('load', () => {
            log('🎯 调试页面加载完成');
            debugInfo();
        });
    </script>
</body>
</html> 