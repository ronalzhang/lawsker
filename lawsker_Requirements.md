# Lawsker (å¾‹å®¢) - æ³•å¾‹æœåŠ¡O2Oå¹³å°éœ€æ±‚æ–‡æ¡£ v2.1 - å®é™…å®ç°çŠ¶æ€

## ğŸš€ **é¡¹ç›®å®šä½**

**Lawsker (å¾‹æ€å®¢)**: ä¸“æ³¨äºå›½å†…æ³•å¾‹æœåŠ¡çš„O2Oå¹³å°ï¼Œä»¥å€ºåŠ¡å‚¬æ”¶ä¸ºæ ¸å¿ƒä¸šåŠ¡ï¼Œé€šè¿‡AIæŠ€æœ¯ä¼˜åŒ–ä¼ ç»Ÿæ³•å¾‹æœåŠ¡æµç¨‹ã€‚

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **: "æ³•å¾‹æ™ºæ…§ï¼Œå³åˆ»é€è¾¾" - è®©æ³•å¾‹æœåŠ¡æ›´é«˜æ•ˆã€æ›´ä¾¿æ°‘ã€æ›´ä¸“ä¸šã€‚

---

## ğŸ“Š **å½“å‰å®ç°çŠ¶æ€æ¦‚è§ˆ (2024å¹´12æœˆ)**

### **âœ… å·²å®Œæˆæ¨¡å—**
- **åç«¯APIç³»ç»Ÿ**: FastAPI + PostgreSQL + Redis (å®Œæˆåº¦: 95%)
- **ç®¡ç†å‘˜é…ç½®ç•Œé¢**: å®Œæ•´çš„ç³»ç»Ÿé…ç½®åå° (å®Œæˆåº¦: 100%)
- **AIæœåŠ¡é›†æˆ**: OpenAI GPT-4 + Deepseekæ–‡æ¡£ç”Ÿæˆ (å®Œæˆåº¦: 100%)
- **æ”¯ä»˜ç³»ç»Ÿ**: å¾®ä¿¡æ”¯ä»˜ + æ”¯ä»˜å®èšåˆæ”¯ä»˜ (å®Œæˆåº¦: 100%)
- **åˆ†è´¦ç³»ç»Ÿ**: 30ç§’å®æ—¶åˆ†è´¦æœºåˆ¶ (å®Œæˆåº¦: 100%)
- **å¤šæ¸ é“å‘é€**: é‚®ä»¶ã€çŸ­ä¿¡ã€å¿«é€’å‘é€ (å®Œæˆåº¦: 100%)
- **HTTPSéƒ¨ç½²**: SSLè¯ä¹¦ + NGINXåå‘ä»£ç† (å®Œæˆåº¦: 100%)
- **è™šæ‹Ÿç¯å¢ƒ**: Pythonè™šæ‹Ÿç¯å¢ƒéš”ç¦» (å®Œæˆåº¦: 100%)

### **âš ï¸ éƒ¨åˆ†å®Œæˆæ¨¡å—**
- **æ•°æ®åº“æ¨¡å‹**: æ ¸å¿ƒè¡¨å·²å®ç°ï¼Œç¼ºå°‘æç°ç”³è¯·è¡¨ (å®Œæˆåº¦: 95%)
- **æœºæ„å·¥ä½œå°**: å‰ç«¯ç•Œé¢æœªå®ç° (å®Œæˆåº¦: 0%)

### **âœ… æ–°å®Œæˆæ¨¡å— (2024å¹´12æœˆ)**
- **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**: JWT Tokenè®¤è¯ + æƒé™æ§åˆ¶ + è·¯ç”±ä¿æŠ¤ (å®Œæˆåº¦: 100%)
- **å¾‹å¸ˆå·¥ä½œå°**: æ ‡ç­¾é¡µå¼ç•Œé¢ï¼ŒåŒ…å«æç°ç®¡ç† (å®Œæˆåº¦: 100%)
- **ç”¨æˆ·å·¥ä½œå°**: æ ‡ç­¾é¡µå¼ç•Œé¢ï¼ŒåŒ…å«æç°ç®¡ç† (å®Œæˆåº¦: 100%)
- **æ”¶ç›Šè®¡ç®—å™¨**: å‰ç«¯ç•Œé¢å·²å®ç° (å®Œæˆåº¦: 100%)
- **æƒé™ç®¡ç†ç³»ç»Ÿ**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC) (å®Œæˆåº¦: 100%)
- **å“ç‰Œè§†è§‰ç³»ç»Ÿ**: Logoè®¾è®¡ï¼Œæµè§ˆå™¨å›¾æ ‡ (å®Œæˆåº¦: 100%)

---

## ğŸ”„ **ç”¨æˆ·ç³»ç»Ÿé‡æ„è¯¦æƒ… (2024å¹´12æœˆ)**

### **ä¸šåŠ¡æ¦‚å¿µé‡æ„**
- **åç§°ç»Ÿä¸€å˜æ›´**: é”€å”® â†’ å¾‹å®¢ç”¨æˆ·ï¼Œé”€å”®å·¥ä½œå° â†’ ç”¨æˆ·å·¥ä½œå°
- **URLè·¯å¾„å˜æ›´**: `/sales` â†’ `/user`ï¼Œç›¸å…³nginxé…ç½®åŒæ­¥æ›´æ–°
- **è§’è‰²å®šä½å‡çº§**: ä»ç®€å•çš„é”€å”®è§’è‰²å‡çº§ä¸ºå¹³å°æ ¸å¿ƒç”¨æˆ·

### **å¾‹å®¢ç”¨æˆ·ç­‰çº§ç³»ç»Ÿï¼ˆ10çº§ï¼‰**
1. **å¾‹å®¢æ–°æ‰‹** - å‘å¸ƒä¸šåŠ¡ < 100ï¼Œæ€»æ”¶ç›Š < Â¥1,000
2. **å¾‹å®¢ç”¨æˆ·** - å‘å¸ƒä¸šåŠ¡ â‰¥ 100ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥1,000
3. **å¾‹å®¢è¾¾äºº** - å‘å¸ƒä¸šåŠ¡ â‰¥ 500ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥5,000
4. **å¾‹å®¢ä¸“å®¶** - å‘å¸ƒä¸šåŠ¡ â‰¥ 1,000ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥15,000
5. **å¾‹å®¢ç²¾è‹±** - å‘å¸ƒä¸šåŠ¡ â‰¥ 2,000ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥30,000
6. **å¾‹å®¢åˆçº§åˆä¼™äºº** - å‘å¸ƒä¸šåŠ¡ â‰¥ 5,000ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥80,000
7. **å¾‹å®¢ä¸­çº§åˆä¼™äºº** - å‘å¸ƒä¸šåŠ¡ â‰¥ 10,000ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥200,000
8. **å¾‹å®¢é«˜çº§åˆä¼™äºº** - å‘å¸ƒä¸šåŠ¡ â‰¥ 20,000ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥500,000
9. **å¾‹å®¢é’»çŸ³åˆä¼™äºº** - å‘å¸ƒä¸šåŠ¡ â‰¥ 50,000ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥1,200,000
10. **å¾‹å®¢è‡³å°Šåˆä¼™äºº** - å‘å¸ƒä¸šåŠ¡ â‰¥ 100,000ï¼Œæ€»æ”¶ç›Š â‰¥ Â¥3,000,000

### **æç°ç®¡ç†ä¼˜åŒ–**
**é’±åŒ…ä¿¡æ¯åŒºåŸŸï¼ˆ3ä¸ªæ•°æ®å—ï¼‰**ï¼š
- å¯æç°ä½™é¢ã€å†»ç»“é‡‘é¢ã€~~æœ¬æœˆæç°~~ï¼ˆåˆ é™¤ï¼‰

**æç°æ±‡æ€»ç»Ÿè®¡åŒºåŸŸï¼ˆ4ä¸ªæ•°æ®å—ï¼‰**ï¼š
- ç´¯è®¡æç°ã€æç°æ¬¡æ•°ã€æœ¬æœˆæç°ï¼ˆæ–°å¢ï¼‰ã€å¾…å¤„ç†é‡‘é¢

**æç°è®°å½•è¡¨æ ¼ä¼˜åŒ–**ï¼š
- ç”³è¯·æ—¶é—´ï¼šæ—¥æœŸæ—¶é—´ç©ºæ ¼åˆ†éš”ï¼Œæœ€å¤šä¸¤è¡Œæ˜¾ç¤º
- æ–¹å¼ç®€åŒ–ï¼šæ”¯ä»˜å®â†’æ”¯ï¼Œå¾®ä¿¡â†’å¾®ï¼Œé“¶è¡Œå¡â†’é“¶
- çŠ¶æ€ä¿¡æ¯ï¼šä¸æ¢è¡Œæ˜¾ç¤ºï¼Œä¼˜åŒ–çª„å±ä½“éªŒ

---

## ğŸ’¼ **æ ¸å¿ƒä¸šåŠ¡æ¨¡å—**

### **ä¸»è¥ä¸šåŠ¡ï¼šå€ºåŠ¡å‚¬æ”¶æœåŠ¡**
- **ä¸šåŠ¡æµç¨‹**ï¼šæœºæ„å§”æ‰˜ â†’ å¾‹å¸ˆæ¥å• â†’ AIè¾…åŠ©å‚¬æ”¶ â†’ åˆ†æœŸå›æ¬¾ â†’ è‡ªåŠ¨åˆ†è´¦
- **æ ¸å¿ƒä»·å€¼**ï¼šä¸“ä¸šå¾‹å¸ˆèµ„è´¨ + AIæ•ˆç‡æå‡ + é€æ˜åˆ†è´¦æœºåˆ¶
- **ç›®æ ‡å®¢æˆ·**ï¼šé“¶è¡Œã€åŠ©è´·æœºæ„ã€å°é¢è´·æ¬¾å…¬å¸
- **å®ç°çŠ¶æ€**: åç«¯é€»è¾‘å®Œæ•´ï¼Œå‰ç«¯å·¥ä½œå°å¾…å¼€å‘

### **æ¬¡è¦ä¸šåŠ¡ï¼šå¾‹å¸ˆå‡½æœåŠ¡**
- **æœåŠ¡ç‰¹è‰²**ï¼š30å…ƒä¸€é”®å¿«å‘ï¼ŒAIç”Ÿæˆ + å¾‹å¸ˆèµ„è´¨èƒŒä¹¦
- **æŠ€æœ¯å®ç°**ï¼šå®¢æˆ·ä¸‹å•ä»˜æ¬¾ â†’ AIç”Ÿæˆå¾‹å¸ˆå‡½ â†’ çŸ­ä¿¡/é‚®ä»¶å‘é€ â†’ å¯å®šæ—¶å‘é€
- **å·®å¼‚åŒ–ä¼˜åŠ¿**ï¼šæ— çº¸åŒ–ã€ç§’çº§åˆ°è¾¾ã€æˆæœ¬æä½
- **å®ç°çŠ¶æ€**: åç«¯API + AIç”Ÿæˆå®Œæ•´ï¼Œå‰ç«¯è®¢å•ç•Œé¢å¾…å¼€å‘

---

## ğŸ—ï¸ **ç³»ç»Ÿæ¶æ„è®¾è®¡**

### **å½“å‰æŠ€æœ¯æ¶æ„**
```
ç”Ÿäº§ç¯å¢ƒ (https://156.227.235.192)
â”œâ”€â”€ NGINX (443ç«¯å£) - SSLç»ˆæ­¢ + åå‘ä»£ç†
â”œâ”€â”€ å‰ç«¯æœåŠ¡ (6060ç«¯å£) - é™æ€HTMLæ–‡ä»¶æœåŠ¡
â”œâ”€â”€ åç«¯API (8000ç«¯å£) - FastAPIåº”ç”¨
â”œâ”€â”€ PostgreSQL - ä¸»æ•°æ®åº“
â”œâ”€â”€ Redis - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
â””â”€â”€ PM2 - è¿›ç¨‹ç®¡ç†
```

### **æ ¸å¿ƒç”¨æˆ·è§’è‰²**
1. **å¹³å°ç®¡ç†å‘˜**ï¼šç³»ç»Ÿé…ç½®ã€ç”¨æˆ·ç®¡ç†ã€è´¢åŠ¡ç›‘æ§ âœ… å·²å®ç°
2. **åŠ©è´·æœºæ„**ï¼šå§”æ‰˜æ–¹ï¼Œä¸Šä¼ å€ºåŠ¡æ•°æ®ï¼ŒæŸ¥çœ‹å‚¬æ”¶è¿›åº¦ âŒ å‰ç«¯å¾…å¼€å‘
3. **æ‰§ä¸šå¾‹å¸ˆ**ï¼šæ¥å•å‚¬æ”¶ï¼Œä½¿ç”¨AIå·¥å…·ï¼Œè·å¾—ä½£é‡‘ âŒ å‰ç«¯å¾…å¼€å‘
4. **ä¸šåŠ¡é”€å”®**ï¼šå¼€å‘å®¢æˆ·ï¼Œç»´æŠ¤å…³ç³»ï¼Œè·å¾—ææˆ âŒ å‰ç«¯å¾…å¼€å‘
5. **å€ºåŠ¡äºº**ï¼šæ¥æ”¶å‚¬æ”¶é€šçŸ¥ï¼Œè¿›è¡Œè¿˜æ¬¾ âœ… é€šçŸ¥ç³»ç»Ÿå·²å®ç°

---

## ğŸ’° **å•†ä¸šæ¨¡å¼ä¸åˆ†æˆæœºåˆ¶**

### **èµ„é‡‘æµè®¾è®¡** âœ… å·²å®ç°
```
å€ºåŠ¡äººè¿˜æ¬¾ â†’ å¹³å°æ‰˜ç®¡è´¦æˆ· â†’ æ™ºèƒ½åˆ†è´¦ç³»ç»Ÿ â†’ å„æ–¹æ”¶ç›Šè´¦æˆ·
â”œâ”€â”€ æœºæ„è¿”è¿˜ï¼š50%ï¼ˆè¿”è¿˜å§”æ‰˜æ–¹ï¼‰
â”œâ”€â”€ å¹³å°åˆ†æˆï¼š30%ï¼ˆæŠ€æœ¯æœåŠ¡+è¿è¥æˆæœ¬ï¼‰
â”œâ”€â”€ å¾‹å¸ˆä½£é‡‘ï¼š20%ï¼ˆèµ„è´¨æˆæƒ+æ‰§è¡ŒæœåŠ¡ï¼‰
â””â”€â”€ é”€å”®ä½£é‡‘ï¼šå·²é…ç½®å¯è°ƒï¼ˆä¸šåŠ¡å¼€å‘ï¼‰
```

### **å¾‹å¸ˆå‡½æœåŠ¡å®šä»·** âœ… å·²å®ç°
- **æ ‡å‡†å¾‹å¸ˆå‡½**ï¼š30å…ƒ/ä»½ï¼ŒAIç”Ÿæˆ+å¾‹å¸ˆç­¾å
- **åŠ æ€¥æœåŠ¡**ï¼š50å…ƒ/ä»½ï¼Œ1å°æ—¶å†…å‘é€
- **å®šåˆ¶æœåŠ¡**ï¼š100-300å…ƒ/ä»½ï¼Œä¸ªæ€§åŒ–å†…å®¹

---

## ğŸ“Š **ç®¡ç†åå°æ•°æ®åˆ†æåŠŸèƒ½å¢å¼ºéœ€æ±‚** ğŸ†• (2024å¹´12æœˆ)

### **1. è¯¦ç»†ç½‘ç«™è®¿é—®æ•°æ®åˆ†ææ¨¡å—** 
**æ ¸å¿ƒç›®æ ‡**: ä¸ºç®¡ç†å‘˜æä¾›å…¨é¢çš„ç½‘ç«™è®¿é—®æ•°æ®æ´å¯Ÿï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒå’Œè¿è¥å†³ç­–

#### **è®¿é—®ç»Ÿè®¡ç»´åº¦**
- **æ—¶é—´ç»´åº¦**: å°æ—¶ã€æ—¥ã€å‘¨ã€æœˆã€å­£åº¦ã€å¹´åº¦ç»Ÿè®¡
- **IPç»´åº¦**: 
  - ç‹¬ç«‹IPæ•°é‡ç»Ÿè®¡
  - åŒIPå¤šæ¬¡è®¿é—®åˆ†æï¼ˆè¯†åˆ«æ½œåœ¨æœºå™¨äººæµé‡ï¼‰
  - IPåœ°ç†ä½ç½®åˆ†å¸ƒï¼ˆçœä»½/åŸå¸‚çº§åˆ«ï¼‰
  - æ–°è®¿å®¢ vs å›è®¿æ¯”ä¾‹
- **é¡µé¢ç»´åº¦**:
  - é¡µé¢è®¿é—®é‡æ’è¡Œæ¦œ
  - é¡µé¢åœç•™æ—¶é—´åˆ†æ
  - è·³å‡ºç‡ç»Ÿè®¡
  - ç”¨æˆ·è·¯å¾„åˆ†æï¼ˆè®¿é—®è½¨è¿¹ï¼‰
- **è®¾å¤‡ç»´åº¦**:
  - æ¡Œé¢ç«¯ vs ç§»åŠ¨ç«¯æ¯”ä¾‹
  - æ“ä½œç³»ç»Ÿåˆ†å¸ƒ
  - æµè§ˆå™¨åˆ†å¸ƒ
  - å±å¹•åˆ†è¾¨ç‡ç»Ÿè®¡

#### **å¯è§†åŒ–å›¾è¡¨éœ€æ±‚**
- **è®¿é—®è¶‹åŠ¿å›¾**: æŠ˜çº¿å›¾æ˜¾ç¤ºè®¿é—®é‡å˜åŒ–è¶‹åŠ¿
- **IPåˆ†å¸ƒåœ°å›¾**: ä¸­å›½åœ°å›¾çƒ­åŠ›å›¾æ˜¾ç¤ºåœ°åŸŸè®¿é—®åˆ†å¸ƒ
- **å®æ—¶è®¿é—®ç›‘æ§**: å®æ—¶æ˜¾ç¤ºå½“å‰åœ¨çº¿ç”¨æˆ·æ•°
- **è®¿é—®æ¥æºé¥¼å›¾**: ç›´æ¥è®¿é—®ã€æœç´¢å¼•æ“ã€å¤–é“¾ç­‰æ¥æºå æ¯”
- **è®¾å¤‡ç»Ÿè®¡æŸ±çŠ¶å›¾**: ä¸åŒè®¾å¤‡ç±»å‹çš„è®¿é—®å¯¹æ¯”

### **2. ç”¨æˆ·æ³¨å†Œç»Ÿè®¡åˆ†ææ¨¡å—**
**æ ¸å¿ƒç›®æ ‡**: ç›‘æ§å¹³å°ç”¨æˆ·å¢é•¿æƒ…å†µï¼Œåˆ†æç”¨æˆ·ç”»åƒå’Œæ³¨å†Œè½¬åŒ–

#### **æ³¨å†Œç”¨æˆ·ç»Ÿè®¡**
- **ç”¨æˆ·ç±»å‹åˆ†ç¦»ç»Ÿè®¡**:
  - å¾‹å¸ˆç”¨æˆ·æ³¨å†Œæ•°é‡åŠè¶‹åŠ¿
  - æ™®é€šç”¨æˆ·ï¼ˆå¾‹å®¢ï¼‰æ³¨å†Œæ•°é‡åŠè¶‹åŠ¿
  - æœºæ„ç”¨æˆ·æ³¨å†Œæ•°é‡åŠè¶‹åŠ¿
  - ç®¡ç†å‘˜è´¦æˆ·ç»Ÿè®¡
- **æ³¨å†Œæ¸ é“åˆ†æ**:
  - å®˜ç½‘ç›´æ¥æ³¨å†Œ
  - æ¨èæ³¨å†Œï¼ˆå«æ¨èäººç»Ÿè®¡ï¼‰
  - ç¬¬ä¸‰æ–¹å¹³å°å¯¼æµæ³¨å†Œ
- **ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ**:
  - æ–°æ³¨å†Œç”¨æˆ·7æ—¥ç•™å­˜ç‡
  - æœˆæ´»è·ƒç”¨æˆ·æ•°ï¼ˆMAUï¼‰
  - ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼åˆ†æ

#### **å¾‹å¸ˆç”¨æˆ·æ·±åº¦åˆ†æ**
- **è®¤è¯çŠ¶æ€åˆ†å¸ƒ**: å·²è®¤è¯ã€å¾…è®¤è¯ã€è®¤è¯å¤±è´¥æ¯”ä¾‹
- **æ‰§ä¸šåœ°åŒºåˆ†å¸ƒ**: æŒ‰çœä»½ç»Ÿè®¡å¾‹å¸ˆåˆ†å¸ƒ
- **æ‰§ä¸šé¢†åŸŸåˆ†æ**: ä¸“ä¸šæ–¹å‘ç»Ÿè®¡ï¼ˆæ°‘å•†æ³•ã€åˆ‘æ³•ç­‰ï¼‰
- **ä¸šåŠ¡å‚ä¸åº¦**: æ¥å•å¾‹å¸ˆ vs ä»…æ³¨å†Œå¾‹å¸ˆæ¯”ä¾‹

#### **æ™®é€šç”¨æˆ·ï¼ˆå¾‹å®¢ï¼‰åˆ†æ**
- **ç­‰çº§åˆ†å¸ƒ**: å„ç­‰çº§ç”¨æˆ·æ•°é‡ç»Ÿè®¡ï¼ˆ1-10çº§ï¼‰
- **æ´»è·ƒåº¦åˆ†æ**: å‘å¸ƒä»»åŠ¡é¢‘æ¬¡ã€æ¶ˆè´¹é‡‘é¢åˆ†å¸ƒ
- **åœ°åŸŸåˆ†å¸ƒ**: ç”¨æˆ·åœ°ç†ä½ç½®çƒ­åŠ›å›¾
- **è·å®¢æˆæœ¬åˆ†æ**: æ¯ä¸ªç”¨æˆ·çš„å¹³å‡è·å®¢æˆæœ¬

### **3. ä¸šç»©æ’åå’Œå®æ—¶æ•°æ®æ¨¡å—**
**æ ¸å¿ƒç›®æ ‡**: æ¿€åŠ±ç”¨æˆ·æ´»è·ƒåº¦ï¼Œæä¾›å®æ—¶ä¸šåŠ¡æ•°æ®æ”¯æŒè¿è¥å†³ç­–

#### **å¾‹å¸ˆä¸šç»©æ’è¡Œæ¦œ**
- **æ¡ˆä»¶å¤„ç†æ’è¡Œ**:
  - æœˆåº¦æ¡ˆä»¶å¤„ç†æ•°é‡æ’è¡Œï¼ˆTop 20ï¼‰
  - æ¡ˆä»¶æˆåŠŸç‡æ’è¡Œ
  - å®¢æˆ·æ»¡æ„åº¦è¯„åˆ†æ’è¡Œ
  - ç´¯è®¡æ”¶ç›Šæ’è¡Œ
- **ä¸“ä¸šèƒ½åŠ›è¯„ä¼°**:
  - AIæ–‡ä¹¦ç”Ÿæˆä½¿ç”¨é¢‘æ¬¡æ’è¡Œ
  - æ¡ˆä»¶å¹³å‡å¤„ç†æ—¶é—´æ’è¡Œ
  - å®¢æˆ·ç»­çº¦ç‡æ’è¡Œ
- **åœ°åŸŸä¸šç»©å¯¹æ¯”**: ä¸åŒåœ°åŒºå¾‹å¸ˆä¸šç»©å¯¹æ¯”åˆ†æ

#### **æ™®é€šç”¨æˆ·ï¼ˆå¾‹å®¢ï¼‰ä¸šç»©æ’è¡Œ**
- **ä¸šåŠ¡å‘å¸ƒæ’è¡Œ**:
  - æœˆåº¦ä»»åŠ¡å‘å¸ƒæ•°é‡æ’è¡Œï¼ˆTop 20ï¼‰
  - ç´¯è®¡å¹³å°è´¡çŒ®å€¼æ’è¡Œ
  - ç­‰çº§æ™‹å‡é€Ÿåº¦æ’è¡Œ
  - æ¨èæ–°ç”¨æˆ·æ•°é‡æ’è¡Œ
- **æ¶ˆè´¹è¡Œä¸ºåˆ†æ**:
  - æœˆåº¦æ¶ˆè´¹é‡‘é¢æ’è¡Œ
  - å¹³å‡è®¢å•ä»·å€¼æ’è¡Œ
  - å¤è´­ç‡æ’è¡Œ

#### **å¹³å°æ•´ä½“å®æ—¶æ•°æ®**
- **å®æ—¶ä¸šåŠ¡æŒ‡æ ‡**:
  - å½“æ—¥/å½“æœˆäº¤æ˜“æ€»é¢
  - å®æ—¶åœ¨çº¿ç”¨æˆ·æ•°
  - å¾…å¤„ç†è®¢å•æ•°é‡
  - ç³»ç»Ÿå“åº”æ—¶é—´ç›‘æ§
- **è´¢åŠ¡æ•°æ®æ±‡æ€»**:
  - å¹³å°æ”¶å…¥å®æ—¶ç»Ÿè®¡
  - åˆ†è´¦é‡‘é¢å®æ—¶æ›´æ–°
  - æç°ç”³è¯·å¤„ç†çŠ¶æ€
  - èµ„é‡‘æµæ°´æ±‡æ€»

#### **é¢„è­¦å’Œé€šçŸ¥ç³»ç»Ÿ**
- **å¼‚å¸¸æ•°æ®è­¦æŠ¥**: è®¿é—®é‡å¼‚å¸¸ã€æ³¨å†Œé‡éª¤é™ç­‰
- **ä¸šåŠ¡å…³é”®æŒ‡æ ‡ç›‘æ§**: è½¬åŒ–ç‡ä¸‹é™ã€ç”¨æˆ·æµå¤±é¢„è­¦
- **ç³»ç»Ÿæ€§èƒ½ç›‘æ§**: æœåŠ¡å™¨è´Ÿè½½ã€æ•°æ®åº“æ€§èƒ½è­¦æŠ¥

### **4. ç®¡ç†åå°å¸ƒå±€é‡æ–°è®¾è®¡è§„èŒƒ**

#### **é¡µé¢ç»“æ„åˆ†ç±»**
```
â”œâ”€â”€ ğŸ“Š æ•°æ®æ¦‚è§ˆä»ªè¡¨ç›˜
â”‚   â”œâ”€â”€ å®æ—¶æ•°æ®å¡ç‰‡åŒºåŸŸ
â”‚   â”œâ”€â”€ å…³é”®æŒ‡æ ‡è¶‹åŠ¿å›¾
â”‚   â””â”€â”€ é¢„è­¦é€šçŸ¥ä¸­å¿ƒ
â”‚
â”œâ”€â”€ ğŸ‘¥ ç”¨æˆ·ç®¡ç†åˆ†æ
â”‚   â”œâ”€â”€ ç”¨æˆ·æ³¨å†Œç»Ÿè®¡
â”‚   â”œâ”€â”€ ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ
â”‚   â””â”€â”€ å¾‹å¸ˆè®¤è¯ç®¡ç†
â”‚
â”œâ”€â”€ ğŸ“ˆ è®¿é—®æ•°æ®åˆ†æ  
â”‚   â”œâ”€â”€ è®¿é—®é‡ç»Ÿè®¡å›¾è¡¨
â”‚   â”œâ”€â”€ IPåˆ†æå’Œåœ°åŸŸåˆ†å¸ƒ
â”‚   â””â”€â”€ è®¾å¤‡å’Œæµè§ˆå™¨ç»Ÿè®¡
â”‚
â”œâ”€â”€ ğŸ† ä¸šç»©æ’è¡Œä¸­å¿ƒ
â”‚   â”œâ”€â”€ å¾‹å¸ˆä¸šç»©æ’è¡Œæ¦œ
â”‚   â”œâ”€â”€ ç”¨æˆ·ä¸šç»©æ’è¡Œæ¦œ
â”‚   â””â”€â”€ å¹³å°æ•´ä½“æ•°æ®æ±‡æ€»
â”‚
â”œâ”€â”€ âš™ï¸ ç³»ç»Ÿé…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ AIæœåŠ¡é…ç½®
â”‚   â”œâ”€â”€ æ”¯ä»˜é…ç½®
â”‚   â””â”€â”€ å®‰å…¨é…ç½®
â”‚
â””â”€â”€ ğŸ”§ è¿ç»´ç®¡ç†å·¥å…·
    â”œâ”€â”€ ç³»ç»Ÿç›‘æ§
    â”œâ”€â”€ æ—¥å¿—ç®¡ç†
    â””â”€â”€ å¿«é€Ÿæ“ä½œ
```

#### **è®¾è®¡åŸåˆ™**
- **å“åº”å¼å¸ƒå±€**: é€‚é…æ¡Œé¢ç«¯å’Œå¹³æ¿ç«¯
- **æ•°æ®å¯è§†åŒ–**: å¤§é‡ä½¿ç”¨å›¾è¡¨ç»„ä»¶ï¼ˆECharts/Chart.jsï¼‰
- **å®æ—¶æ›´æ–°**: WebSocketæ¨é€å®æ—¶æ•°æ®
- **äº¤äº’å‹å¥½**: æ”¯æŒæ•°æ®é’»å–ã€ç­›é€‰ã€å¯¼å‡º
- **æ€§èƒ½ä¼˜åŒ–**: å¤§æ•°æ®é‡åˆ†é¡µåŠ è½½å’Œè™šæ‹Ÿæ»šåŠ¨

---

## ğŸ¤– **AIæŠ€æœ¯åº”ç”¨** âœ… å·²å®ç°

### **AIå‚¬æ”¶æ–‡ä¹¦ç”Ÿæˆ**
- **å‚¬æ”¶å‡½æ¨¡æ¿**ï¼šå‹å¥½æé†’ã€æ­£å¼é€šçŸ¥ã€æ³•å¾‹å¨æ…‘ä¸‰ç§é£æ ¼
- **ä¸ªæ€§åŒ–å®šåˆ¶**ï¼šæ ¹æ®å€ºåŠ¡ç±»å‹ã€é‡‘é¢ã€é€¾æœŸæ—¶é•¿è‡ªåŠ¨è°ƒæ•´
- **æ³•æ¡æ™ºèƒ½å¼•ç”¨**ï¼šè‡ªåŠ¨åŒ¹é…ç›¸å…³æ³•å¾‹æ¡æ–‡
- **å¤šè½®å‚¬æ”¶ç­–ç•¥**ï¼š15å¤©ã€30å¤©ã€60å¤©é€’è¿›å¼æ¨¡æ¿

### **AIå¾‹å¸ˆå‡½ç”Ÿæˆ**
- **æ™ºèƒ½æ¨¡æ¿é€‰æ‹©**ï¼šæ ¹æ®æ¡ˆä»¶ç±»å‹è‡ªåŠ¨é€‰æ‹©åˆé€‚æ¨¡æ¿
- **åŠ¨æ€å†…å®¹å¡«å……**ï¼šè‡ªåŠ¨å¡«å…¥å½“äº‹äººä¿¡æ¯ã€æ³•å¾‹ä¾æ®
- **æ ¼å¼è§„èŒƒåŒ–**ï¼šç¡®ä¿ç¬¦åˆæ³•å¾‹æ–‡ä¹¦æ ‡å‡†æ ¼å¼
- **è´¨é‡æ£€æŸ¥**ï¼šAIè‡ªåŠ¨æ£€æŸ¥é€»è¾‘é”™è¯¯å’Œæ ¼å¼é—®é¢˜

---

## ğŸ“± **äº§å“åŠŸèƒ½æ¸…å•**

### **å¹³å°ç®¡ç†ç«¯** âš ï¸ åŸºç¡€åŠŸèƒ½å®Œæˆï¼Œæ•°æ®åˆ†æåŠŸèƒ½å¾…å¢å¼º
- [x] AIæœåŠ¡é…ç½®ï¼ˆOpenAI + Deepseekï¼‰
- [x] æ”¯ä»˜æ¸ é“é…ç½®ï¼ˆå¾®ä¿¡æ”¯ä»˜ + æ”¯ä»˜å®ï¼‰
- [x] åˆ†è´¦æ¯”ä¾‹è®¾ç½®
- [x] å®‰å…¨å‚æ•°é…ç½®
- [x] ç³»ç»Ÿç›‘æ§é¢æ¿
- [x] å¾‹å¸ˆå®¡æ ¸ç®¡ç†
- [x] åŸºç¡€è®¿é—®è®°å½•ç®¡ç†
- [ ] **è¯¦ç»†ç½‘ç«™è®¿é—®æ•°æ®åˆ†ææ¨¡å—** ğŸ†•
- [ ] **ç”¨æˆ·æ³¨å†Œç»Ÿè®¡åˆ†ææ¨¡å—** ğŸ†•  
- [ ] **ä¸šç»©æ’åå’Œå®æ—¶æ•°æ®æ¨¡å—** ğŸ†•

### **æœºæ„ç®¡ç†ç«¯** â¸ï¸ **é¡¹ç›®å·²æš‚åœå¼€å‘**
> **æ³¨æ„ï¼šæ­¤æ¨¡å—ä¸ºæš‚åœå¼€å‘é¡¹ç›®ï¼Œæš‚ä¸è¿›è¡ŒåŠŸèƒ½å®ç°**
- [ ] å€ºåŠ¡æ•°æ®æ‰¹é‡å¯¼å…¥ (æš‚åœå¼€å‘)
- [ ] æ¡ˆä»¶è¿›åº¦å®æ—¶è·Ÿè¸ª (æš‚åœå¼€å‘)
- [ ] åˆ†è´¦æ˜ç»†é€æ˜æŸ¥è¯¢ (æš‚åœå¼€å‘)
- [ ] å¾‹å¸ˆç»©æ•ˆè¯„ä¼° (æš‚åœå¼€å‘)
- [ ] æœˆåº¦å¯¹è´¦æŠ¥å‘Š (æš‚åœå¼€å‘)

### **å¾‹å¸ˆå·¥ä½œå°** âœ… å·²å®Œæˆ
- [x] æ¡ˆä»¶æ™ºèƒ½æ¨èåˆ†é…
- [x] AIå‚¬æ”¶æ–‡ä¹¦ç”Ÿæˆ
- [x] è¿›åº¦è·Ÿè¸ªç®¡ç†
- [x] æ”¶å…¥ç»Ÿè®¡åˆ†æ
- [x] æç°ç®¡ç†é›†æˆï¼ˆæ ‡ç­¾é¡µï¼‰
- [x] æƒé™æ§åˆ¶ä¼˜åŒ–

### **ç”¨æˆ·å·¥ä½œå°** âœ… å·²å®Œæˆ
- [x] ä»»åŠ¡å‘å¸ƒç®¡ç†
- [x] ä¸šåŠ¡æ•°æ®ä¸Šä¼ 
- [x] æ”¶ç›Šæ”¶å…¥è·Ÿè¸ª
- [x] æç°ç®¡ç†é›†æˆï¼ˆæ ‡ç­¾é¡µï¼‰
- [x] æƒé™æ§åˆ¶ä¼˜åŒ–
- [x] å¾‹å®¢ç”¨æˆ·ç­‰çº§ç³»ç»Ÿ

### **å¾‹å¸ˆå‡½æœåŠ¡** âš ï¸ åç«¯å®Œæ•´ï¼Œå‰ç«¯å¾…å¼€å‘
- [x] AIæ–‡ä¹¦ç”Ÿæˆ (åç«¯API)
- [x] å¤šæ¸ é“å‘é€æœåŠ¡ (åç«¯API)
- [ ] åœ¨çº¿ä¸‹å•æ”¯ä»˜ (å‰ç«¯ç•Œé¢)
- [ ] å®šæ—¶å‘é€åŠŸèƒ½ (å‰ç«¯ç•Œé¢)
- [ ] å‘é€çŠ¶æ€è·Ÿè¸ª (å‰ç«¯ç•Œé¢)

---

## ğŸ¯ **æŠ€æœ¯å®ç°è·¯å¾„**

### **åç«¯æŠ€æœ¯æ ˆ** âœ… å·²å®ç°
- **APIæ¡†æ¶**ï¼šFastAPIï¼ˆPythonï¼Œé«˜æ€§èƒ½ï¼‰
- **æ•°æ®åº“**ï¼šPostgreSQLï¼ˆå¤šç§Ÿæˆ·æ”¯æŒï¼‰
- **ç¼“å­˜**ï¼šRedisï¼ˆä¼šè¯+é…ç½®ç¼“å­˜ï¼‰
- **è®¤è¯**ï¼šJWTï¼ˆæ— çŠ¶æ€è®¤è¯ï¼‰
- **AIæœåŠ¡**ï¼šOpenAI GPT-4 + Deepseekï¼ˆæ–‡ä¹¦ç”Ÿæˆï¼‰
- **æ”¯ä»˜**ï¼šå¾®ä¿¡æ”¯ä»˜+æ”¯ä»˜å®ï¼ˆèšåˆæ”¯ä»˜ï¼‰
- **éƒ¨ç½²**ï¼šNGINX + SSL + PM2 + è™šæ‹Ÿç¯å¢ƒ

### **å‰ç«¯æŠ€æœ¯æ ˆ** âœ… å·²é‡æ–°æ¶æ„
- **å½“å‰çŠ¶æ€**ï¼šé™æ€HTML + CSS + JavaScriptï¼ˆä¼˜åŒ–å®Œæˆï¼‰
- **å·²å®ç°**ï¼š
  - ç®¡ç†å‘˜é…ç½®ç•Œé¢ï¼ˆç£¨ç ‚ç»ç’ƒè®¾è®¡ï¼‰
  - å¾‹å¸ˆå·¥ä½œå°ï¼ˆæ ‡ç­¾é¡µè®¾è®¡ + æç°ç®¡ç†ï¼‰
  - é”€å”®å·¥ä½œå°ï¼ˆæ ‡ç­¾é¡µè®¾è®¡ + æç°ç®¡ç†ï¼‰
  - æ”¶ç›Šè®¡ç®—å™¨ç•Œé¢
  - æƒé™æ§åˆ¶ç³»ç»Ÿ
  - å“ç‰ŒLogoè®¾è®¡
- **æŠ€æœ¯ç‰¹è‰²**ï¼š
  - å“åº”å¼è®¾è®¡
  - æ ‡ç­¾é¡µå¼å¯¼èˆª
  - å†…è”æ ·å¼ä¼˜åŒ–
  - æƒé™åˆ†ç¦»æ§åˆ¶

---

## ğŸš§ **ä¸‹ä¸€é˜¶æ®µå¼€å‘é‡ç‚¹**

### **âœ… Phase 1: å‰ç«¯å·¥ä½œå°å¼€å‘ï¼ˆå·²å®Œæˆï¼‰**
- âœ… å¾‹å¸ˆå·¥ä½œå°ï¼šæ¡ˆä»¶ç®¡ç† + AIå·¥å…· + æ”¶å…¥ç»Ÿè®¡ + æç°ç®¡ç†
- âœ… ç”¨æˆ·å·¥ä½œå°ï¼šä»»åŠ¡å‘å¸ƒ + ä¸šåŠ¡ä¸Šä¼  + æ”¶ç›Šè·Ÿè¸ª + æç°ç®¡ç†
- âœ… æ”¶ç›Šè®¡ç®—å™¨ï¼šå®æ—¶è®¡ç®—å„è§’è‰²æ”¶ç›Š
- âœ… æƒé™æ§åˆ¶ï¼šè§’è‰²åˆ†ç¦»ï¼Œå¯¼èˆªæƒé™ç®¡ç†
- âœ… å“ç‰Œå‡çº§ï¼šLogoè®¾è®¡ï¼Œæµè§ˆå™¨å›¾æ ‡
- âœ… ç”¨æˆ·ç³»ç»Ÿé‡æ„ï¼šé”€å”®â†’å¾‹å®¢ç”¨æˆ·ï¼Œç­‰çº§ç³»ç»Ÿ

### **âš ï¸ Phase 2: ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼ˆéƒ¨åˆ†å®Œæˆï¼‰**
- âœ… å®Œå–„ç™»å½•è®¤è¯æµç¨‹
- âœ… ç§»åŠ¨ç«¯å“åº”å¼é€‚é…
- âœ… æ ‡ç­¾é¡µå¼ç•Œé¢ä¼˜åŒ–
- âœ… æç°ç®¡ç†æ•°æ®ä¼˜åŒ–
- âœ… å¾‹å®¢ç”¨æˆ·ç­‰çº§ç³»ç»Ÿï¼ˆ10çº§ï¼‰
- [ ] æ•°æ®å¯è§†åŒ–å›¾è¡¨é›†æˆ
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œç¼“å­˜ç­–ç•¥

### **â¸ï¸ Phase 3: ä¸šåŠ¡åŠŸèƒ½å¢å¼ºï¼ˆéƒ¨åˆ†æš‚åœï¼‰**
- [ ] ~~æœºæ„å·¥ä½œå°å®Œæ•´å¼€å‘~~ (é¡¹ç›®å·²æš‚åœ)
- [ ] ~~æ‰¹é‡æ•°æ®å¯¼å…¥åŠŸèƒ½~~ (é¡¹ç›®å·²æš‚åœ)
- [ ] æ™ºèƒ½åˆ†é…ç®—æ³•ä¼˜åŒ–
- [ ] é£é™©è¯„ä¼°æ¨¡å‹
- [ ] åˆè§„å®¡è®¡åŠŸèƒ½

---

## ğŸ“‹ **æ•°æ®åº“è®¾è®¡çŠ¶æ€**

### **å·²å®ç°æ ¸å¿ƒæ•°æ®è¡¨** âœ…
- `tenants` - ç§Ÿæˆ·è¡¨
- `users` - ç”¨æˆ·è¡¨
- `cases` - æ¡ˆä»¶è¡¨
- `transactions` - äº¤æ˜“æµæ°´è¡¨
- `commission_splits` - åˆ†è´¦è®°å½•è¡¨
- `system_configs` - ç³»ç»Ÿé…ç½®è¡¨
- `document_review_tasks` - æ–‡æ¡£å®¡æ ¸ä»»åŠ¡è¡¨
- `lawyer_letter_orders` - å¾‹å¸ˆå‡½è®¢å•è¡¨
- `payment_orders` - æ”¯ä»˜è®¢å•è¡¨

### **å¾…è¡¥å……æ•°æ®è¡¨** âŒ
- `withdrawal_requests` - æç°ç”³è¯·è¡¨
- `case_logs` - æ¡ˆä»¶æ—¥å¿—è¡¨
- `lawyer_workloads` - å¾‹å¸ˆå·¥ä½œè´Ÿè·è¡¨

### **æ–°å¢ç»Ÿè®¡åˆ†ææ•°æ®è¡¨** ğŸ†• (ç®¡ç†åå°æ”¯æŒ)

#### **è®¿é—®ç»Ÿè®¡åˆ†æè¡¨**
- `access_logs` - è®¿é—®æ—¥å¿—è®°å½•è¡¨
- `daily_statistics` - æ—¥ç»Ÿè®¡æ±‡æ€»è¡¨
- `user_activities` - ç”¨æˆ·æ´»åŠ¨è½¨è¿¹è¡¨
- `ip_statistics` - IPè®¿é—®ç»Ÿè®¡è¡¨
- `page_analytics` - é¡µé¢è®¿é—®åˆ†æè¡¨

#### **ä¸šç»©æ’è¡Œåˆ†æè¡¨**
- `lawyer_performance_stats` - å¾‹å¸ˆä¸šç»©ç»Ÿè®¡è¡¨
- `user_performance_stats` - ç”¨æˆ·ä¸šç»©ç»Ÿè®¡è¡¨
- `ranking_snapshots` - æ’è¡Œæ¦œå¿«ç…§è¡¨
- `performance_history` - å†å²ä¸šç»©è®°å½•è¡¨

#### **ç³»ç»Ÿç›‘æ§è¿ç»´è¡¨**
- `system_logs` - ç³»ç»Ÿè¿è¡Œæ—¥å¿—è¡¨
- `backup_records` - æ•°æ®å¤‡ä»½è®°å½•è¡¨
- `system_metrics` - ç³»ç»Ÿç›‘æ§æŒ‡æ ‡è¡¨
- `alert_records` - ç³»ç»Ÿé¢„è­¦è®°å½•è¡¨
- `maintenance_logs` - è¿ç»´æ“ä½œæ—¥å¿—è¡¨

#### **ç»Ÿè®¡æ±‡æ€»è¡¨**
- `statistics_summary` - å¤šç»´åº¦ç»Ÿè®¡æ±‡æ€»è¡¨
- `dashboard_cache` - ä»ªè¡¨ç›˜æ•°æ®ç¼“å­˜è¡¨
- `report_schedules` - å®šæ—¶æŠ¥è¡¨é…ç½®è¡¨

---

## ğŸ“‹ **è¯¦ç»†æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡** ğŸ†•

### **è®¿é—®ç»Ÿè®¡åˆ†æè¡¨ç»“æ„**

#### `access_logs` - è®¿é—®æ—¥å¿—è®°å½•è¡¨
```sql
CREATE TABLE access_logs (
    id BIGSERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    session_id VARCHAR(64),
    ip_address INET NOT NULL,
    user_agent TEXT,
    referer TEXT,
    request_path VARCHAR(500) NOT NULL,
    request_method VARCHAR(10) DEFAULT 'GET',
    status_code INTEGER DEFAULT 200,
    response_time INTEGER, -- å“åº”æ—¶é—´(æ¯«ç§’)
    device_type VARCHAR(20), -- mobile/desktop/tablet
    browser VARCHAR(50),
    os VARCHAR(50),
    country VARCHAR(50),
    region VARCHAR(50),
    city VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_access_logs_user_id (user_id),
    INDEX idx_access_logs_ip (ip_address),
    INDEX idx_access_logs_created_at (created_at),
    INDEX idx_access_logs_path (request_path)
);
```

#### `daily_statistics` - æ—¥ç»Ÿè®¡æ±‡æ€»è¡¨
```sql
CREATE TABLE daily_statistics (
    id SERIAL PRIMARY KEY,
    stat_date DATE UNIQUE NOT NULL,
    total_pv INTEGER DEFAULT 0,
    total_uv INTEGER DEFAULT 0,
    unique_ips INTEGER DEFAULT 0,
    new_users INTEGER DEFAULT 0,
    new_lawyers INTEGER DEFAULT 0,
    new_cases INTEGER DEFAULT 0,
    total_revenue DECIMAL(15,2) DEFAULT 0,
    mobile_visits INTEGER DEFAULT 0,
    desktop_visits INTEGER DEFAULT 0,
    avg_response_time INTEGER DEFAULT 0,
    bounce_rate DECIMAL(5,2) DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_daily_statistics_date (stat_date)
);
```

#### `ip_statistics` - IPè®¿é—®ç»Ÿè®¡è¡¨
```sql
CREATE TABLE ip_statistics (
    id SERIAL PRIMARY KEY,
    ip_address INET NOT NULL,
    first_visit TIMESTAMP NOT NULL,
    last_visit TIMESTAMP NOT NULL,
    visit_count INTEGER DEFAULT 1,
    total_page_views INTEGER DEFAULT 1,
    country VARCHAR(50),
    region VARCHAR(50),
    city VARCHAR(100),
    is_suspicious BOOLEAN DEFAULT FALSE,
    risk_score INTEGER DEFAULT 0, -- 0-100é£é™©è¯„åˆ†
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY unique_ip (ip_address),
    INDEX idx_ip_statistics_country (country),
    INDEX idx_ip_statistics_suspicious (is_suspicious)
);
```

### **ä¸šç»©æ’è¡Œåˆ†æè¡¨ç»“æ„**

#### `lawyer_performance_stats` - å¾‹å¸ˆä¸šç»©ç»Ÿè®¡è¡¨
```sql
CREATE TABLE lawyer_performance_stats (
    id SERIAL PRIMARY KEY,
    lawyer_id INTEGER NOT NULL REFERENCES users(id),
    stat_period ENUM('daily', 'weekly', 'monthly', 'yearly') NOT NULL,
    stat_date DATE NOT NULL,
    cases_handled INTEGER DEFAULT 0,
    cases_completed INTEGER DEFAULT 0,
    cases_success INTEGER DEFAULT 0,
    total_revenue DECIMAL(15,2) DEFAULT 0,
    avg_case_duration DECIMAL(8,2) DEFAULT 0, -- å¹³å‡æ¡ˆä»¶å¤„ç†å¤©æ•°
    client_satisfaction DECIMAL(3,2) DEFAULT 0, -- å®¢æˆ·æ»¡æ„åº¦(0-5)
    response_rate DECIMAL(5,2) DEFAULT 0, -- å“åº”ç‡ç™¾åˆ†æ¯”
    completion_rate DECIMAL(5,2) DEFAULT 0, -- å®Œæˆç‡ç™¾åˆ†æ¯”
    ai_usage_count INTEGER DEFAULT 0, -- AIå·¥å…·ä½¿ç”¨æ¬¡æ•°
    ranking_score DECIMAL(10,2) DEFAULT 0, -- ç»¼åˆæ’ååˆ†æ•°
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY unique_lawyer_period (lawyer_id, stat_period, stat_date),
    INDEX idx_lawyer_performance_period (stat_period, stat_date),
    INDEX idx_lawyer_performance_ranking (ranking_score DESC)
);
```

#### `user_performance_stats` - ç”¨æˆ·ä¸šç»©ç»Ÿè®¡è¡¨
```sql
CREATE TABLE user_performance_stats (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id),
    stat_period ENUM('daily', 'weekly', 'monthly', 'yearly') NOT NULL,
    stat_date DATE NOT NULL,
    tasks_published INTEGER DEFAULT 0,
    total_consumption DECIMAL(15,2) DEFAULT 0,
    referral_count INTEGER DEFAULT 0,
    current_level INTEGER DEFAULT 1, -- ç”¨æˆ·ç­‰çº§ 1-10
    level_points INTEGER DEFAULT 0,
    active_days INTEGER DEFAULT 0,
    avg_task_value DECIMAL(10,2) DEFAULT 0,
    return_rate DECIMAL(5,2) DEFAULT 0, -- å¤è´­ç‡
    ranking_score DECIMAL(10,2) DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY unique_user_period (user_id, stat_period, stat_date),
    INDEX idx_user_performance_period (stat_period, stat_date),
    INDEX idx_user_performance_level (current_level),
    INDEX idx_user_performance_ranking (ranking_score DESC)
);
```

### **ç³»ç»Ÿç›‘æ§è¿ç»´è¡¨ç»“æ„**

#### `system_metrics` - ç³»ç»Ÿç›‘æ§æŒ‡æ ‡è¡¨
```sql
CREATE TABLE system_metrics (
    id BIGSERIAL PRIMARY KEY,
    metric_type VARCHAR(50) NOT NULL, -- cpu, memory, disk, network, etc.
    metric_name VARCHAR(100) NOT NULL,
    metric_value DECIMAL(10,4) NOT NULL,
    metric_unit VARCHAR(20), -- %, MB, GB, ms, etc.
    host_name VARCHAR(100),
    service_name VARCHAR(50),
    threshold_warning DECIMAL(10,4),
    threshold_critical DECIMAL(10,4),
    is_alert BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_system_metrics_type (metric_type),
    INDEX idx_system_metrics_time (created_at),
    INDEX idx_system_metrics_alert (is_alert, created_at)
);
```

#### `system_logs` - ç³»ç»Ÿè¿è¡Œæ—¥å¿—è¡¨
```sql
CREATE TABLE system_logs (
    id BIGSERIAL PRIMARY KEY,
    log_level ENUM('DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL') NOT NULL,
    log_source VARCHAR(50) NOT NULL, -- backend, frontend, database, etc.
    log_category VARCHAR(50), -- auth, payment, ai, etc.
    log_message TEXT NOT NULL,
    log_details JSON,
    user_id INTEGER REFERENCES users(id),
    ip_address INET,
    request_id VARCHAR(64),
    stack_trace TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_system_logs_level (log_level),
    INDEX idx_system_logs_source (log_source),
    INDEX idx_system_logs_time (created_at),
    INDEX idx_system_logs_user (user_id)
);
```

#### `backup_records` - æ•°æ®å¤‡ä»½è®°å½•è¡¨
```sql
CREATE TABLE backup_records (
    id SERIAL PRIMARY KEY,
    backup_type ENUM('full', 'incremental', 'manual') NOT NULL,
    backup_status ENUM('running', 'completed', 'failed') NOT NULL,
    file_name VARCHAR(255) NOT NULL,
    file_size BIGINT, -- å­—èŠ‚
    file_path VARCHAR(500),
    backup_duration INTEGER, -- å¤‡ä»½è€—æ—¶(ç§’)
    error_message TEXT,
    created_by INTEGER REFERENCES users(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    completed_at TIMESTAMP,
    INDEX idx_backup_records_status (backup_status),
    INDEX idx_backup_records_time (created_at)
);
```

### **ç»Ÿè®¡æ±‡æ€»è¡¨ç»“æ„**

#### `statistics_summary` - å¤šç»´åº¦ç»Ÿè®¡æ±‡æ€»è¡¨
```sql
CREATE TABLE statistics_summary (
    id SERIAL PRIMARY KEY,
    summary_type VARCHAR(50) NOT NULL, -- dashboard, users, lawyers, revenue, etc.
    summary_period ENUM('hourly', 'daily', 'weekly', 'monthly') NOT NULL,
    summary_date DATETIME NOT NULL,
    summary_data JSON NOT NULL, -- å­˜å‚¨æ±‡æ€»æ•°æ®çš„JSON
    cache_key VARCHAR(100), -- ç¼“å­˜é”®
    expires_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY unique_summary (summary_type, summary_period, summary_date),
    INDEX idx_statistics_summary_type (summary_type),
    INDEX idx_statistics_summary_expires (expires_at)
);
```

#### `dashboard_cache` - ä»ªè¡¨ç›˜æ•°æ®ç¼“å­˜è¡¨
```sql
CREATE TABLE dashboard_cache (
    id SERIAL PRIMARY KEY,
    cache_key VARCHAR(100) NOT NULL UNIQUE,
    cache_data JSON NOT NULL,
    cache_type VARCHAR(50) NOT NULL, -- overview, charts, rankings, etc.
    expires_at TIMESTAMP NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_dashboard_cache_type (cache_type),
    INDEX idx_dashboard_cache_expires (expires_at)
);
```

---

## ğŸ”Œ **ç®¡ç†åå°APIæ¥å£è®¾è®¡** ğŸ†•

### **æ•°æ®æ¦‚è§ˆä»ªè¡¨ç›˜API**

#### è·å–ä»ªè¡¨ç›˜æ¦‚è§ˆæ•°æ®
```http
GET /api/v1/admin/dashboard/overview
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "totalUsers": 2348,
        "totalLawyers": 186,
        "totalRevenue": 1245000,
        "todayVisitors": 1567,
        "trends": {
            "userGrowth": 12.5,
            "lawyerGrowth": 8.3,
            "revenueGrowth": 23.1,
            "visitorGrowth": 5.7
        }
    }
}
```

#### è·å–å›¾è¡¨æ•°æ®
```http
GET /api/v1/admin/dashboard/charts?period=30d&type=user_growth
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "chartType": "line",
        "period": "30d",
        "labels": ["2024-01-01", "2024-01-02", ...],
        "datasets": [
            {
                "label": "ç”¨æˆ·å¢é•¿",
                "data": [45, 52, 38, 67, ...]
            }
        ]
    }
}
```

### **ç”¨æˆ·ç®¡ç†API**

#### è·å–ç”¨æˆ·ç»Ÿè®¡æ•°æ®
```http
GET /api/v1/admin/users/statistics?period=monthly
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "lawyers": {
            "total": 186,
            "newThisMonth": 23,
            "certificationRate": 87.6,
            "activeRate": 64.2
        },
        "users": {
            "total": 2162,
            "newThisMonth": 298,
            "payingRate": 45.3,
            "retentionRate": 78.5
        },
        "institutions": {
            "total": 47,
            "newThisMonth": 5,
            "cooperationRate": 91.5,
            "avgMonthlyConsumption": 15200
        }
    }
}
```

#### è·å–å¾‹å¸ˆå®¡æ ¸åˆ—è¡¨
```http
GET /api/v1/admin/lawyers/audits?status=pending&page=1&limit=20
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "items": [
            {
                "id": 1,
                "name": "å¼ ä¸‰",
                "licenseNumber": "11010120220001",
                "lawFirm": "åŒ—äº¬æŸæŸå¾‹å¸ˆäº‹åŠ¡æ‰€",
                "status": "pending",
                "submitTime": "2024-01-15T10:30:00Z",
                "aiConfidence": 85,
                "documents": [
                    {
                        "type": "license",
                        "url": "/uploads/licenses/123.jpg"
                    }
                ]
            }
        ],
        "total": 3,
        "page": 1,
        "pages": 1
    }
}
```

#### å®¡æ ¸å¾‹å¸ˆç”³è¯·
```http
POST /api/v1/admin/lawyers/audits/{id}/approve
Authorization: Bearer {token}
Content-Type: application/json

{
    "remarks": "èµ„è´¨é½å…¨ï¼Œé€šè¿‡å®¡æ ¸"
}

Response:
{
    "code": 200,
    "message": "å®¡æ ¸é€šè¿‡æˆåŠŸ"
}
```

### **è®¿é—®åˆ†æAPI**

#### è·å–è®¿é—®åˆ†ææ¦‚è§ˆ
```http
GET /api/v1/admin/analytics/overview?date=2024-01-15
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "todayPV": 15672,
        "todayUV": 4523,
        "uniqueIPs": 3891,
        "mobileRate": 67.8,
        "trends": {
            "pvGrowth": 8.3,
            "uvGrowth": 12.1,
            "ipGrowth": 15.7,
            "mobileGrowth": 2.3
        }
    }
}
```

#### è·å–è®¿é—®è¶‹åŠ¿æ•°æ®
```http
GET /api/v1/admin/analytics/trends?period=7d&metric=pv
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "labels": ["01-09", "01-10", "01-11", "01-12", "01-13", "01-14", "01-15"],
        "datasets": [
            {
                "label": "é¡µé¢è®¿é—®é‡",
                "data": [12543, 13876, 11234, 15432, 14567, 16234, 15672]
            }
        ]
    }
}
```

#### è·å–IPåˆ†ææ•°æ®
```http
GET /api/v1/admin/analytics/ips?page=1&limit=50&suspicious=false
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "summary": {
            "repeatIPs": 892,
            "singleVisitIPs": 2999,
            "suspiciousIPs": 12
        },
        "items": [
            {
                "ip": "192.168.1.100",
                "country": "ä¸­å›½",
                "region": "åŒ—äº¬",
                "city": "åŒ—äº¬",
                "visitCount": 15,
                "firstVisit": "2024-01-10T08:30:00Z",
                "lastVisit": "2024-01-15T14:20:00Z",
                "isSuspicious": false,
                "riskScore": 20
            }
        ]
    }
}
```

### **ä¸šç»©æ’è¡ŒAPI**

#### è·å–å¾‹å¸ˆæ’è¡Œæ¦œ
```http
GET /api/v1/admin/rankings/lawyers?type=cases&period=monthly&page=1&limit=20
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "items": [
            {
                "rank": 1,
                "lawyerId": 1001,
                "name": "å¼ å¾‹å¸ˆ",
                "region": "åŒ—äº¬",
                "casesHandled": 45,
                "totalRevenue": 125000,
                "clientRating": 4.8,
                "completionRate": 95.5
            }
        ],
        "total": 186,
        "page": 1,
        "pages": 10
    }
}
```

#### è·å–ç”¨æˆ·æ’è¡Œæ¦œ
```http
GET /api/v1/admin/rankings/users?type=consumption&period=monthly&page=1&limit=20
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "items": [
            {
                "rank": 1,
                "userId": 2001,
                "name": "ææ€»",
                "level": 8,
                "tasksPublished": 125,
                "totalConsumption": 85000,
                "referralCount": 15
            }
        ],
        "total": 2162,
        "page": 1,
        "pages": 109
    }
}
```

### **è¿ç»´å·¥å…·API**

#### è·å–ç³»ç»Ÿç›‘æ§æŒ‡æ ‡
```http
GET /api/v1/admin/operations/metrics?latest=true
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "cpu": {
            "value": 15.5,
            "unit": "%",
            "status": "normal"
        },
        "memory": {
            "value": 48.2,
            "unit": "%", 
            "status": "normal"
        },
        "disk": {
            "value": 32.1,
            "unit": "%",
            "status": "normal"
        },
        "activeUsers": 23
    }
}
```

#### è·å–ç³»ç»Ÿæ—¥å¿—
```http
GET /api/v1/admin/operations/logs?level=error&source=backend&page=1&limit=50
Authorization: Bearer {token}

Response:
{
    "code": 200,
    "data": {
        "items": [
            {
                "id": 12345,
                "level": "error",
                "source": "backend",
                "category": "database",
                "message": "æ•°æ®åº“è¿æ¥è¶…æ—¶",
                "createdAt": "2024-01-15T10:30:15Z",
                "details": {
                    "error": "connection timeout after 30s"
                }
            }
        ],
        "total": 245,
        "page": 1,
        "pages": 5
    }
}
```

#### åˆ›å»ºæ•°æ®å¤‡ä»½
```http
POST /api/v1/admin/operations/backup
Authorization: Bearer {token}
Content-Type: application/json

{
    "type": "manual",
    "description": "æ‰‹åŠ¨å¤‡ä»½"
}

Response:
{
    "code": 200,
    "data": {
        "backupId": 123,
        "status": "running",
        "message": "å¤‡ä»½ä»»åŠ¡å·²åˆ›å»º"
    }
}
```

---

## ğŸ”§ **éƒ¨ç½²é…ç½®è¯¦æƒ…**

### **ç”Ÿäº§ç¯å¢ƒé…ç½®** âœ… å·²å®Œæˆ
```bash
æœåŠ¡å™¨ï¼š156.227.235.192
HTTPSç«¯å£ï¼š443 (å¤–éƒ¨è®¿é—®)
å‰ç«¯å†…éƒ¨ç«¯å£ï¼š6060
åç«¯å†…éƒ¨ç«¯å£ï¼š8000
æ•°æ®åº“ï¼šPostgreSQL (æœ¬åœ°)
ç¼“å­˜ï¼šRedis (æœ¬åœ°)
è¿›ç¨‹ç®¡ç†ï¼šPM2
SSLè¯ä¹¦ï¼šè‡ªç­¾å (365å¤©æœ‰æ•ˆæœŸ)
```

### **è®¿é—®åœ°å€**
- **ç³»ç»Ÿé¦–é¡µ**: https://156.227.235.192/
- **ç®¡ç†é…ç½®**: https://156.227.235.192/admin-config.html
- **APIå¥åº·æ£€æŸ¥**: https://156.227.235.192/api/v1/health
- **APIæ–‡æ¡£**: https://156.227.235.192/docs (éœ€è¦é…ç½®)

---

## ğŸ¯ **ç³»ç»Ÿå®Œæ•´åº¦è¯„ä¼°**

| æ¨¡å— | åç«¯API | å‰ç«¯ç•Œé¢ | æ•´ä½“å®Œæˆåº¦ |
|------|---------|----------|------------|
| ç³»ç»Ÿç®¡ç† | 100% | 100% | 100% |
| AIæœåŠ¡ | 100% | 100% | 100% |
| æ”¯ä»˜åˆ†è´¦ | 100% | 100% | 100% |
| ç”¨æˆ·è®¤è¯ | 100% | 100% | 100% |
| å¾‹å¸ˆå·¥ä½œå° | 100% | 100% | 100% |
| é”€å”®å·¥ä½œå° | 100% | 100% | 100% |
| æ”¶ç›Šè®¡ç®—å™¨ | 100% | 100% | 100% |
| æƒé™ç®¡ç† | 100% | 100% | 100% |
| å“ç‰Œç³»ç»Ÿ | 100% | 100% | 100% |
| **åŸºç¡€ç®¡ç†åå°** | 95% | 100% | 97.5% |
| **è®¿é—®æ•°æ®åˆ†æ** | 100% | 0% | 50% |
| **ç”¨æˆ·ç»Ÿè®¡åˆ†æ** | 100% | 0% | 50% |
| **ä¸šç»©æ’è¡Œç³»ç»Ÿ** | 100% | 0% | 50% |
| **æ•°æ®åº“è®¾è®¡å¢å¼º** | 100% | 0% | 50% |
| **APIæ¥å£è®¾è®¡** | 100% | 0% | 50% |
| æœºæ„å·¥ä½œå° | 75% | 0% | 37.5% |
| **æ€»ä½“å®Œæˆåº¦** | **95%** | **45%** | **70%** |

---

**ä¸‹ä¸€æ­¥é‡ç‚¹ï¼šå‰ç«¯ä¸šåŠ¡å·¥ä½œå°å¼€å‘** ğŸ¯ 

## ğŸ” **ç”¨æˆ·è®¤è¯å’Œæƒé™æ§åˆ¶ç³»ç»Ÿ** âœ… å·²å®Œæˆ

### **è®¤è¯æ¶æ„è®¾è®¡**
- **è®¤è¯æ–¹å¼**: JWT Token + localStorageå­˜å‚¨
- **æƒé™æ§åˆ¶**: åŸºäºç”¨æˆ·è§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)
- **ä¼šè¯ç®¡ç†**: å®¢æˆ·ç«¯Token + æœåŠ¡ç«¯Redisç¼“å­˜
- **å®‰å…¨æœºåˆ¶**: Tokenè¿‡æœŸæ£€æŸ¥ + è·¯ç”±æƒé™éªŒè¯

### **è®¤è¯è„šæœ¬å®ç°** âœ… å·²å®Œæˆ
**æ ¸å¿ƒæ–‡ä»¶**: `frontend/js/auth-guard.js` (ASCIIç¼–ç )
- **åŠ è½½æ—¶æœº**: DOMåŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ
- **æƒé™æ£€æŸ¥**: é¡µé¢è®¿é—®å‰è¿›è¡ŒTokenéªŒè¯
- **é‡å®šå‘é€»è¾‘**: æœªè®¤è¯ç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
- **è§’è‰²éªŒè¯**: æ ¹æ®ç”¨æˆ·è§’è‰²æ§åˆ¶é¡µé¢è®¿é—®æƒé™

### **é¡µé¢è®¿é—®æ§åˆ¶ç­–ç•¥**

#### **å…¬å…±é¡µé¢ï¼ˆæ— éœ€è®¤è¯ï¼‰**
- `/` - é¦–é¡µ
- `/index.html` - é¦–é¡µ
- `/login.html` - ç™»å½•é¡µé¢
- `/login` - ç™»å½•é¡µé¢
- `/anonymous-task.html` - åŒ¿åä»»åŠ¡é¡µé¢
- `/anonymous-task` - åŒ¿åä»»åŠ¡é¡µé¢

#### **æ¼”ç¤ºé¡µé¢ï¼ˆæ— éœ€è®¤è¯ï¼‰**
- `/legal` - å¾‹å¸ˆå·¥ä½œå°æ¼”ç¤º
- `/user` - ç”¨æˆ·å·¥ä½œå°æ¼”ç¤º
- `/legal/` - å¾‹å¸ˆå·¥ä½œå°æ¼”ç¤º
- `/user/` - ç”¨æˆ·å·¥ä½œå°æ¼”ç¤º

#### **ä¸ªäººå·¥ä½œå°ï¼ˆéœ€è¦è®¤è¯+è§’è‰²åŒ¹é…ï¼‰**
- `/legal/001` - å¾‹å¸ˆ1çš„å·¥ä½œå° â†’ éœ€è¦lawyer1è´¦å·
- `/legal/002` - å¾‹å¸ˆ2çš„å·¥ä½œå° â†’ éœ€è¦lawyer2è´¦å·
- `/legal/003-010` - å…¶ä»–å¾‹å¸ˆå·¥ä½œå° â†’ éœ€è¦å¯¹åº”å¾‹å¸ˆè´¦å·
- `/user/001` - ç”¨æˆ·1çš„å·¥ä½œå° â†’ éœ€è¦user1è´¦å·
- `/user/002` - ç”¨æˆ·2çš„å·¥ä½œå° â†’ éœ€è¦user2è´¦å·
- `/user/003-010` - å…¶ä»–ç”¨æˆ·å·¥ä½œå° â†’ éœ€è¦å¯¹åº”ç”¨æˆ·è´¦å·

#### **ç³»ç»ŸåŠŸèƒ½é¡µé¢ï¼ˆéœ€è¦è®¤è¯ï¼‰**
- `/console` - æ•°æ®ä»ªè¡¨ç›˜
- `/withdraw` - æç°ç®¡ç†
- `/admin` - ç®¡ç†åå°
- `/dashboard` - ä»ªè¡¨ç›˜
- `/calculator` - æ”¶ç›Šè®¡ç®—å™¨

#### **ç‰¹æ®Šæƒé™é¡µé¢**
- `/admin-pro` - é«˜çº§ç®¡ç†åå°ï¼ˆå¯†ç éªŒè¯ï¼š123abc74531ï¼‰ âœ… å·²éªŒè¯
  - **å¯†ç éªŒè¯æœºåˆ¶**: å¼¹å‡ºpromptå¯†ç è¾“å…¥æ¡†
  - **ä¼šè¯ä¿æŒ**: 30åˆ†é’Ÿå†…æœ‰æ•ˆï¼ˆsessionStorageå­˜å‚¨ï¼‰
  - **éªŒè¯é€»è¾‘**: checkAdminAccess()æ–¹æ³•å¤„ç†
  - **å®‰å…¨ç‰¹æ€§**: å¯†ç é”™è¯¯æ—¶æ˜¾ç¤ºè­¦å‘Šï¼Œå–æ¶ˆéªŒè¯è¿”å›false
- `/admin-config.html` - ç³»ç»Ÿé…ç½®ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰

### **ç”¨æˆ·è§’è‰²æ˜ å°„ç³»ç»Ÿ**

#### **å¾‹å¸ˆIDæ˜ å°„**
```javascript
const lawyerMapping = {
    '001': 'lawyer1', '002': 'lawyer2', '003': 'lawyer3',
    '004': 'lawyer4', '005': 'lawyer5', '006': 'lawyer1',
    '007': 'lawyer2', '008': 'lawyer3', '009': 'lawyer4',
    '010': 'lawyer5'
};
```

#### **ç”¨æˆ·IDæ˜ å°„**
```javascript
const userMapping = {
    '001': 'user1', '002': 'user2', '003': 'user3',
    '004': 'user4', '005': 'user5', '006': 'user1',
    '007': 'user2', '008': 'user3', '009': 'user4',
    '010': 'user5'
};
```

### **æƒé™éªŒè¯æµç¨‹**
1. **Tokenæ£€æŸ¥**: éªŒè¯localStorageä¸­çš„authTokenæœ‰æ•ˆæ€§
2. **è§’è‰²éªŒè¯**: æ£€æŸ¥ç”¨æˆ·è§’è‰²æ˜¯å¦åŒ¹é…é¡µé¢è¦æ±‚
3. **æƒé™åŒ¹é…**: éªŒè¯ç”¨æˆ·æ˜¯å¦æœ‰æƒé™è®¿é—®ç‰¹å®šå·¥ä½œå°
4. **é‡å®šå‘å¤„ç†**: æœªé€šè¿‡éªŒè¯çš„ç”¨æˆ·é‡å®šå‘åˆ°ç™»å½•é¡µé¢

### **è®¤è¯é›†æˆçŠ¶æ€**
**å·²é›†æˆauth-guard.jsçš„é¡µé¢**:
- âœ… `lawyer-workspace.html` - å¾‹å¸ˆå·¥ä½œå°
- âœ… `user-workspace.html` - ç”¨æˆ·å·¥ä½œå°  
- âœ… `admin-config-optimized.html` - ç®¡ç†å‘˜é…ç½®
- âœ… `institution-workspace.html` - æœºæ„å·¥ä½œå°
- âœ… `dashboard.html` - æ•°æ®ä»ªè¡¨ç›˜
- âœ… `withdrawal.html` - æç°ç®¡ç†

**Express.jsè·¯ç”±é…ç½®**:
```javascript
// æ¼”ç¤ºè·¯ç”±ï¼ˆæ— éœ€è®¤è¯ï¼‰
app.get('/legal', routeHandler('lawyer-workspace.html'));
app.get('/user', routeHandler('user-workspace.html'));

// ä¸ªäººå·¥ä½œå°ï¼ˆéœ€è¦è®¤è¯ï¼‰
app.get('/legal/:lawyerId', routeHandler('lawyer-workspace.html'));
app.get('/user/:userId', routeHandler('user-workspace.html'));

// ç³»ç»ŸåŠŸèƒ½é¡µé¢ï¼ˆéœ€è¦è®¤è¯ï¼‰
app.get('/console', routeHandler('dashboard.html'));
app.get('/withdraw', routeHandler('withdrawal.html'));
```

### **éªŒè¯æµ‹è¯•ç»“æœ** âœ…
- âœ… æœªè®¤è¯ç”¨æˆ·è®¿é—®`/legal/001` â†’ é‡å®šå‘åˆ°ç™»å½•é¡µé¢
- âœ… æœªè®¤è¯ç”¨æˆ·è®¿é—®`/user/001` â†’ é‡å®šå‘åˆ°ç™»å½•é¡µé¢
- âœ… æœªè®¤è¯ç”¨æˆ·è®¿é—®`/console` â†’ é‡å®šå‘åˆ°ç™»å½•é¡µé¢
- âœ… æœªè®¤è¯ç”¨æˆ·è®¿é—®`/withdraw` â†’ é‡å®šå‘åˆ°ç™»å½•é¡µé¢
- âœ… æœªè®¤è¯ç”¨æˆ·è®¿é—®`/admin` â†’ é‡å®šå‘åˆ°ç™»å½•é¡µé¢
- âœ… **å¯†ç éªŒè¯é¡µé¢`/admin-pro` â†’ æ˜¾ç¤ºç®¡ç†åå°ç•Œé¢** âœ…
- âœ… æ¼”ç¤ºé¡µé¢`/legal`å’Œ`/user` â†’ æ­£å¸¸è®¿é—®
- âœ… å…¬å…±é¡µé¢`/`å’Œ`/index.html` â†’ æ­£å¸¸è®¿é—®

### **æŠ€æœ¯å®ç°ç»†èŠ‚**
- **ç¼–ç é—®é¢˜è§£å†³**: ä½¿ç”¨ASCIIç¼–ç é¿å…ä¸­æ–‡å­—ç¬¦å¯¼è‡´çš„JavaScriptè§£æé”™è¯¯
- **ç¼“å­˜å¤„ç†**: é€šè¿‡æ—¶é—´æˆ³å‚æ•°(?v=1735536900)ç»•è¿‡æµè§ˆå™¨ç¼“å­˜
- **DOMå°±ç»ªæ£€æŸ¥**: ç¡®ä¿åœ¨DOMåŠ è½½å®Œæˆåå†æ‰§è¡Œè®¤è¯é€»è¾‘
- **å³æ—¶éšè—**: æœªé€šè¿‡è®¤è¯çš„é¡µé¢ç«‹å³éšè—å†…å®¹ï¼Œé˜²æ­¢ä¿¡æ¯æ³„éœ²

---

## ğŸ’¼ **æ ¸å¿ƒä¸šåŠ¡æ¨¡å—** 

## ğŸ“… æœ€æ–°æ›´æ–°çŠ¶æ€ (2024-01-15)

### âœ… å·²å®ŒæˆåŠŸèƒ½é›†æˆ

**å‰ç«¯ç®¡ç†åå°å‡çº§ (Version 2.0)**
- âœ… å…­å¤§åŠŸèƒ½æ¨¡å—å®Œæ•´UIå®ç°
- âœ… çœŸå®APIè°ƒç”¨é›†æˆï¼ˆå¸¦åå¤‡æ¨¡æ‹Ÿæ•°æ®ï¼‰
- âœ… å®Œå–„çš„tabåˆ‡æ¢å’Œæ•°æ®æ˜¾ç¤ºé€»è¾‘
- âœ… å¾‹å¸ˆå®¡æ ¸åŠŸèƒ½çš„APIé›†æˆ
- âœ… å“åº”å¼è®¾è®¡å’ŒåŠ¨ç”»æ•ˆæœä¼˜åŒ–
- âœ… é”™è¯¯å¤„ç†å’Œç”¨æˆ·ä½“éªŒæ”¹è¿›

**åç«¯APIæœåŠ¡å®Œæ•´å®ç°**
- âœ… 15ä¸ªæ•°æ®è¡¨ç»“æ„è®¾è®¡å’Œåˆ›å»ºè„šæœ¬
- âœ… 6å¤§æ¨¡å—çš„REST APIæ¥å£å®ç°
- âœ… æ•°æ®ç»Ÿè®¡å’Œåˆ†æç®—æ³•
- âœ… ç³»ç»Ÿç›‘æ§å’Œæ€§èƒ½æŒ‡æ ‡API
- âœ… é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼æ ‡å‡†åŒ–

**éƒ¨ç½²å’Œè¿ç»´**
- âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æˆåŠŸ
- âœ… ä¾èµ–åŒ…å®‰è£…å’Œé…ç½®ï¼ˆpsutilç­‰ï¼‰
- âœ… PM2æœåŠ¡ç®¡ç†å’Œé‡å¯
- âœ… Gitç‰ˆæœ¬æ§åˆ¶å’Œä»£ç åŒæ­¥

### ğŸ”§ æŠ€æœ¯ä¼˜åŒ–äº®ç‚¹

1. **APIè®¾è®¡æ¨¡å¼**ï¼šé‡‡ç”¨RESTfulæ ‡å‡†ï¼Œç»Ÿä¸€å“åº”æ ¼å¼
2. **æ•°æ®å¤„ç†**ï¼šæ™ºèƒ½èšåˆç»Ÿè®¡ï¼Œæ”¯æŒå®æ—¶å’Œå†å²æ•°æ®
3. **å‰ç«¯æ¶æ„**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œå¼‚æ­¥æ•°æ®åŠ è½½ï¼Œä¼˜é›…é™çº§
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šGPUåŠ é€Ÿæ¸²æŸ“ï¼Œè¯·æ±‚é˜²æŠ–ï¼Œå†…å­˜ç®¡ç†
5. **ç”¨æˆ·ä½“éªŒ**ï¼šå®æ—¶é€šçŸ¥ï¼ŒåŠ è½½çŠ¶æ€ï¼Œå“åº”å¼è®¾è®¡

### ğŸ“Š å½“å‰ç³»ç»Ÿå®Œæˆåº¦

| æ¨¡å— | å‰ç«¯UI | åç«¯API | æ•°æ®åº“ | é›†æˆæµ‹è¯• | å®Œæˆåº¦ |
|------|--------|---------|--------|----------|--------|
| æ•°æ®æ¦‚è§ˆä»ªè¡¨ç›˜ | âœ… | âœ… | âœ… | âš ï¸ | 85% |
| ç”¨æˆ·ç®¡ç†æ¨¡å— | âœ… | âœ… | âœ… | âš ï¸ | 85% |
| è®¿é—®åˆ†ææ¨¡å— | âœ… | âœ… | âœ… | âš ï¸ | 80% |
| æ€§èƒ½æ’è¡Œæ¦œ | âœ… | âœ… | âœ… | âš ï¸ | 80% |
| ç³»ç»Ÿé…ç½® | âœ… | âœ… | âœ… | âœ… | 95% |
| è¿ç»´ä¸­å¿ƒ | âœ… | âœ… | âœ… | âš ï¸ | 75% |

**æ€»ä½“å®Œæˆåº¦ï¼š82%** â¬†ï¸ (ä»70%æå‡)

### ğŸš€ ä¸‹ä¸€é˜¶æ®µè®¡åˆ’

1. **æ•°æ®åº“è¿ç§»æ‰§è¡Œ**ï¼šè¿è¡Œanalyticsè¡¨åˆ›å»ºè„šæœ¬
2. **APIé›†æˆæµ‹è¯•**ï¼šéªŒè¯æ‰€æœ‰æ¥å£æ•°æ®æµ
3. **çœŸå®æ•°æ®é‡‡é›†**ï¼šé…ç½®è®¿é—®æ—¥å¿—å’Œæ€§èƒ½ç›‘æ§
4. **ç”¨æˆ·æƒé™å®Œå–„**ï¼šç®¡ç†å‘˜è§’è‰²éªŒè¯
5. **ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–**ï¼šç¼“å­˜ç­–ç•¥å’Œè´Ÿè½½å‡è¡¡

### ğŸ’» æŠ€æœ¯æ ˆæ›´æ–°

**æ–°å¢ç»„ä»¶**
- psutil: ç³»ç»Ÿæ€§èƒ½ç›‘æ§
- æ•°æ®èšåˆç®—æ³•ï¼šç»Ÿè®¡è®¡ç®—å¼•æ“
- å®æ—¶ç›‘æ§ï¼šWebSocketå‡†å¤‡ï¼ˆå¾…å®ç°ï¼‰
- å›¾è¡¨åº“é›†æˆï¼šChart.jsé¢„ç•™æ¥å£

**æ¶æ„ä¼˜åŒ–**
- APIè·¯ç”±æ¨¡å—åŒ–
- æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–
- å‰ç«¯çŠ¶æ€ç®¡ç†æ”¹è¿›
- é”™è¯¯æ¢å¤æœºåˆ¶å¢å¼º

---

*æœ¬æ¬¡æ›´æ–°å®ç°äº†å®Œæ•´çš„ç®¡ç†åå°æ¶æ„ï¼Œä¸ºLawskerå¹³å°çš„æ•°æ®é©±åŠ¨è¿è¥å¥ å®šäº†åšå®åŸºç¡€ã€‚*

### ğŸš€ **ç³»ç»Ÿéƒ¨ç½²æˆåŠŸéªŒè¯** (2024-01-15 æœ€æ–°)

**æ•°æ®åº“è¿ç§»å®Œæˆ âœ… (2024-12-31 æœ€æ–°å®Œæˆ)**
- âœ… ä¿®å¤äº†ç”¨æˆ·IDå­—æ®µç±»å‹å…¼å®¹æ€§é—®é¢˜ (INTEGER â†’ UUID)
- âœ… æˆåŠŸåˆ›å»º18ä¸ªæ•°æ®åˆ†æè¡¨
- âœ… æ‰€æœ‰å¤–é”®çº¦æŸæ­£ç¡®é…ç½®
- âœ… ç´¢å¼•å’Œè§¦å‘å™¨åˆ›å»ºå®Œæˆ
- âœ… åˆå§‹æ•°æ®å’Œç³»ç»Ÿç›‘æ§æŒ‡æ ‡æ’å…¥æˆåŠŸ
- âœ… **Analyticsæ¨¡å—æ•°æ®åº“è¿ç§»100%å®Œæˆ**
- âœ… **æ•°æ®åº“è®¾è®¡æ–‡æ¡£å‡çº§è‡³v1.4ç‰ˆæœ¬**
- âœ… **ç”Ÿäº§ç¯å¢ƒ42å¼ è¡¨å…¨éƒ¨è¿è¡Œæ­£å¸¸**

**æœåŠ¡å™¨éƒ¨ç½²çŠ¶æ€ âœ…**
- âœ… åç«¯æœåŠ¡ (lawsker-backend): ç«¯å£8000, çŠ¶æ€æ­£å¸¸
- âœ… å‰ç«¯æœåŠ¡ (lawsker-frontend): ç«¯å£6060, çŠ¶æ€æ­£å¸¸  
- âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸ (PostgreSQL)
- âœ… PM2è¿›ç¨‹ç®¡ç†ç¨³å®šè¿è¡Œ

**APIç«¯ç‚¹éªŒè¯ âœ…**
- âœ… ç®¡ç†åå°APIè·¯ç”±æ³¨å†ŒæˆåŠŸ
- âœ… æ•°æ®åº“è¿æ¥å’ŒæŸ¥è¯¢åŠŸèƒ½æ­£å¸¸
- âœ… è®¤è¯æœºåˆ¶å·¥ä½œæ­£å¸¸
- âœ… å‰ç«¯é¡µé¢å¯æ­£å¸¸è®¿é—® (http://server:6060/admin-config-optimized.html)

**æ–°å¢æ•°æ®åº“è¡¨åˆ—è¡¨:**
```
1. access_logs - è®¿é—®æ—¥å¿—è®°å½•
2. daily_statistics - æ—¥ç»Ÿè®¡æ±‡æ€»  
3. ip_statistics - IPè®¿é—®ç»Ÿè®¡
4. page_analytics - é¡µé¢è®¿é—®åˆ†æ
5. lawyer_performance_stats - å¾‹å¸ˆä¸šç»©ç»Ÿè®¡
6. user_performance_stats - ç”¨æˆ·ä¸šç»©ç»Ÿè®¡
7. ranking_snapshots - æ’è¡Œæ¦œå¿«ç…§
8. system_metrics - ç³»ç»Ÿç›‘æ§æŒ‡æ ‡
9. system_logs - ç³»ç»Ÿè¿è¡Œæ—¥å¿—
10. backup_records - æ•°æ®å¤‡ä»½è®°å½•
11. alert_records - ç³»ç»Ÿé¢„è­¦è®°å½•
12. statistics_summary - ç»Ÿè®¡æ±‡æ€»
13. dashboard_cache - ä»ªè¡¨ç›˜ç¼“å­˜
14. report_schedules - å®šæ—¶æŠ¥è¡¨é…ç½®
(åŠ ä¸ŠåŸæœ‰4ä¸ªç›¸å…³è¡¨ï¼Œå…±18ä¸ªåˆ†æè¡¨)
```

### ğŸ¯ **ä¸‹ä¸€æ­¥è®¡åˆ’**

**åŠŸèƒ½å®Œå–„ä¼˜å…ˆçº§:**
1. **é«˜ä¼˜å…ˆçº§** - æ•°æ®é‡‡é›†é€»è¾‘å®ç°
   - è®¿é—®æ—¥å¿—è‡ªåŠ¨è®°å½•ä¸­é—´ä»¶
   - å¾‹å¸ˆå’Œç”¨æˆ·æ´»åŠ¨æ•°æ®é‡‡é›†
   - ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡å®šæ—¶é‡‡é›†

2. **ä¸­ä¼˜å…ˆçº§** - å®æ—¶æ•°æ®å±•ç¤º
   - WebSocketå®æ—¶æ•°æ®æ¨é€
   - å›¾è¡¨æ•°æ®åŠ¨æ€æ›´æ–°
   - å‘Šè­¦æ¶ˆæ¯å³æ—¶é€šçŸ¥

3. **ä½ä¼˜å…ˆçº§** - é«˜çº§åŠŸèƒ½
   - æ•°æ®å¯¼å‡ºå’ŒæŠ¥è¡¨ç”Ÿæˆ
   - æƒé™ç®¡ç†ç»†åŒ–
   - ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–

### ğŸ“Š **ç³»ç»Ÿå®Œæˆåº¦æœ€æ–°è¯„ä¼°**

| åŠŸèƒ½æ¨¡å— | è®¾è®¡ | å‰ç«¯ | åç«¯ | æ•°æ®åº“ | éƒ¨ç½² | å®Œæˆåº¦ |
|----------|------|------|------|--------|------|--------|
| æ•°æ®æ¦‚è§ˆä»ªè¡¨ç›˜ | âœ… | âœ… | âœ… | âœ… | âœ… | **90%** |
| ç”¨æˆ·ç®¡ç†æ¨¡å— | âœ… | âœ… | âœ… | âœ… | âœ… | **90%** |
| è®¿é—®åˆ†ææ¨¡å— | âœ… | âœ… | âœ… | âœ… | âœ… | **85%** |
| æ€§èƒ½æ’è¡Œæ¦œ | âœ… | âœ… | âœ… | âœ… | âœ… | **85%** |
| ç³»ç»Ÿé…ç½® | âœ… | âœ… | âœ… | âœ… | âœ… | **95%** |
| è¿ç»´ä¸­å¿ƒ | âœ… | âœ… | âœ… | âœ… | âœ… | **90%** |

**æ€»ä½“ç³»ç»Ÿå®Œæˆåº¦: 92.5%** â¬†ï¸ (ä»88.3%æå‡)

### ğŸ’¡ **æŠ€æœ¯æ¶æ„äº®ç‚¹**

1. **æ•°æ®åº“è®¾è®¡**ï¼šéµå¾ªPostgreSQLæœ€ä½³å®è·µï¼ŒUUIDä¸»é”®ç»Ÿä¸€æ€§
2. **APIæ¶æ„**ï¼šRESTfulè®¾è®¡ï¼Œç»Ÿä¸€é”™è¯¯å¤„ç†ï¼Œä¼˜é›…é™çº§
3. **å‰ç«¯å·¥ç¨‹**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œå¼‚æ­¥åŠ è½½ï¼Œå“åº”å¼å¸ƒå±€
4. **éƒ¨ç½²è¿ç»´**ï¼šPM2è¿›ç¨‹ç®¡ç†ï¼ŒGitç‰ˆæœ¬æ§åˆ¶ï¼Œè‡ªåŠ¨åŒ–éƒ¨ç½²
5. **ç›‘æ§ä½“ç³»**ï¼šå¤šç»´åº¦æ•°æ®é‡‡é›†ï¼Œå®æ—¶æŒ‡æ ‡ç›‘æ§ï¼Œé¢„è­¦æœºåˆ¶

---

**âœ¨ Lawskerç®¡ç†åå°ç°å·²å®Œæ•´éƒ¨ç½²è¿è¡Œï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å…·å¤‡æ•°æ®æ”¯æ’‘èƒ½åŠ›ï¼**

å®Œæ•´æµ‹è¯•æ•°æ®ï¼š
ç®¡ç†å‘˜è´¦æˆ·ï¼šadmin / demo123
å¾‹å¸ˆè´¦æˆ·ï¼šlawyer1-5 / demo123
é”€å”®è´¦æˆ·ï¼šsales1-8 / demo123
æœºæ„è´¦æˆ·ï¼šinstitution1-3 / demo123